import { Hex, Log, TransactionReceipt, TransactionType } from "viem";

// https://etherscan.io/tx/0xc540d7ec7284bec586a9059b1357cb96452f04cf5225f24831f7f1c112b43a51 를 기준으로 아래를 제작함.
// curl https://docs-demo.quiknode.pro/ \
//   -X POST \
//   -H "Content-Type: application/json" \
//   --data '{"method":"eth_getTransactionReceipt","params":["0xc540d7ec7284bec586a9059b1357cb96452f04cf5225f24831f7f1c112b43a51"],"id":1,"jsonrpc":"2.0"}'

// {
//   "jsonrpc": "2.0",
//   "id": 1,
//   "result": {
//     "blockHash": "0x9a2ca97ff03adc61dd08c987a6784a160fde302a5db8a6f1397e260706c56376",
//     "blockNumber": "0x16e5988",
//     "contractAddress": null,
//     "cumulativeGasUsed": "0x14dfac6",
//     "effectiveGasPrice": "0x26858a4",
//     "from": "0x41ed843a086f44b8cb23decc8170c132bc257874",
//     "gasUsed": "0xefa0",
//     "logs": [
//       {
//         "address": "0xdac17f958d2ee523a2206206994597c13d831ec7",
//         "topics": [
//           "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
//           "0x000000000000000000000000ffa0991500f8ace0da1fbc883283735434a06f27",
//           "0x000000000000000000000000c0c69d0556d2ae3b2d236e45395a4eed7f6514e6"
//         ],
//         "data": "0x00000000000000000000000000000000000000000000000000000000016e27e0",
//         "blockNumber": "0x16e5988",
//         "transactionHash": "0xc540d7ec7284bec586a9059b1357cb96452f04cf5225f24831f7f1c112b43a51",
//         "transactionIndex": "0x9f",
//         "blockHash": "0x9a2ca97ff03adc61dd08c987a6784a160fde302a5db8a6f1397e260706c56376",
//         "blockTimestamp": "0x693e5b2f",
//         "logIndex": "0x74b",
//         "removed": false
//       }
//     ],
//     "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000040400000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000100000000200000000000004000080000000000000000000000000000000000000004000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000",
//     "status": "0x1",
//     "to": "0xc0c69d0556d2ae3b2d236e45395a4eed7f6514e6",
//     "transactionHash": "0xc540d7ec7284bec586a9059b1357cb96452f04cf5225f24831f7f1c112b43a51",
//     "transactionIndex": "0x9f",
//     "type": "0x2"
//   }
// }

export const mockedLogs: Log[] = [
    {
        address: '0xdac17f958d2ee523a2206206994597c13d831ec7' as Hex,
        blockHash: '0x9a2ca97ff03adc61dd08c987a6784a160fde302a5db8a6f1397e260706c56376' as Hex,
        blockNumber: 24009096n,
        data: '0x00000000000000000000000000000000000000000000000000000000016e27e0' as Hex,
        logIndex: 1867,
        removed: false,
        transactionHash: '0xc540d7ec7284bec586a9059b1357cb96452f04cf5225f24831f7f1c112b43a51' as Hex,
        transactionIndex: 159,
        topics: [
            "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
            "0x000000000000000000000000ffa0991500f8ace0da1fbc883283735434a06f27",
            "0x000000000000000000000000c0c69d0556d2ae3b2d236e45395a4eed7f6514e6"
        ] as [Hex, ...Hex[]], // 최소 1개의 Hex를 보장
    }
];

export function createEmptyLogsBloom(): Hex {
    const zeros = '0'.repeat(512); 
    return `0x${zeros}` as Hex;
}

export const mockedTransactionReceipt: TransactionReceipt = {
    status: 'success', 
    transactionHash: '0xc540d7ec7284bec586a9059b1357cb96452f04cf5225f24831f7f1c112b43a51' as Hex,
    blockNumber: 34103138n,
    blockHash: '0x9a2ca97ff03adc61dd08c987a6784a160fde302a5db8a6f1397e260706c56376' as Hex,
    gasUsed: 61344n, 
    cumulativeGasUsed: 21887686n,
    logs: mockedLogs as TransactionReceipt['logs'],
    contractAddress: null,
    effectiveGasPrice: 40392868n,
    from: '0x41ed843a086f44b8cb23decc8170c132bc257874' as Hex,
    to: '0xc0c69d0556d2ae3b2d236e45395a4eed7f6514e6' as Hex,
    type: 'eip1559' as TransactionType,
    logsBloom: "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000040400000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000100000000200000000000004000080000000000000000000000000000000000000004000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000",
    transactionIndex: 159,
};